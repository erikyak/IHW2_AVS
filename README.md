# Общая информация 
1. ФИО: Яковлев Эрик денисович
2. Группа: БПИ239
3. - Вариант: 18
   - Текст задачи: Разработать программу вычисления корня квадратного по итерационной формуле Герона Александрийского с точностью не хуже 0,05%.
4. Метод решения задачи:  
   4.1. x<sub>n+1</sub> = <sup>1</sup>&frasl;<sub>2</sub>(x<sub>n</sub> + <sup>a</sup>&frasl;<sub>x<sub>n</sub></sub>), где a - число из которого берется корень,
   x - приближенное к корню число после определенного числа итераций  
  4.2. Сначала вычисляем temp = <sup>a</sup>&frasl;<sub>x<sub>n</sub></sub>  
  4.3. Потом вычисляем temp = temp + x<sub>n</sub>  
  4.4. И в конце вычисляем x<sub>n+1</sub> = <sup>temp</sup>&frasl;<sub>2</sub> 
5. https://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Heron's_method
6. В моей реализации проводятся итерации до того как разница между x<sub>n+1</sub> и x<sub>n</sub> будет не больше 0,00000005 и после этих итераций вычисленное число получается максимально близко к корню, вот пример работы алгоритма:
Попробуем вычислить квадратный корень для 25, используя округления при вычислениях. Пусть нашим первым предположением для значения корня 25 будет значение 3.
<img width="519" alt="Снимок экрана 2024-10-31 в 01 20 05" src="https://github.com/user-attachments/assets/5e0ed819-a4fc-4409-abdc-0c2a9bf199d2">

# Скриншоты кода программы:

## main.s
<img width="996" alt="Снимок экрана 2024-10-30 в 22 04 11" src="https://github.com/user-attachments/assets/49be0da6-a6e4-48d9-a9fa-49f69b141fc6">

## keyboard.s
<img width="994" alt="Снимок экрана 2024-10-30 в 22 08 06" src="https://github.com/user-attachments/assets/841af9a0-5fe2-4cfa-8a59-43d893494614">

## tests.s
<img width="999" alt="Снимок экрана 2024-11-13 в 19 23 00" src="https://github.com/user-attachments/assets/7c9c687a-2e53-4a78-bd30-485897ff9960">
<img width="993" alt="Снимок экрана 2024-11-13 в 19 23 18" src="https://github.com/user-attachments/assets/6cb5e461-adb7-4776-a747-8b96dc851fff">

## macrolib.s
<img width="994" alt="Снимок экрана 2024-11-13 в 19 23 36" src="https://github.com/user-attachments/assets/7984aae0-53f9-48ed-998f-8490a4ca1973">
<img width="996" alt="Снимок экрана 2024-11-13 в 19 24 07" src="https://github.com/user-attachments/assets/1953d99d-e766-4776-8d2a-ef6c05c23ce3">
<img width="993" alt="Снимок экрана 2024-11-13 в 19 24 32" src="https://github.com/user-attachments/assets/678c4f30-23f9-49a7-a000-338566ed641a">

# Отчет

## На 4-5 баллов
Разработана программа, в которой вводится число n (n ≥ 0) - число, из которого будет браться корень, проводятся итерации алгоритма, приведенного выше, и далее выводится посчитанный корень  
Скриншоты тестирования программы:  
<img width="606" alt="Снимок экрана 2024-11-01 в 01 43 11" src="https://github.com/user-attachments/assets/1c42da23-9476-4398-8e0c-c2223c774e81">

## На 6-7 баллов
Был изменен код и поэтому добавленны следующие подпрограммы(соблюдающие конвенцию):
### input_n
Считывает n ≥ 0 с клавиатуры и запоминает его в регистре fa0.
### square_root_calculations
Получает n - число, из которого будет браться корень (если оно 0, то сразу возвращается 0), проводятся итерации до того как разница между x<sub>n+1</sub> и x<sub>n</sub> будет не больше 0,00000005 алгоритма и возвращает посчитанный корень в fa0
### print_result
Получает n - число, из которого брался корень, result - &#8730;n и просто выводит красиво ответ

## На 8 баллов
Добавлена тестовая подпрограмма тем самым общая программа разбита на main(с него начинается программа), 
keyboard(для считывания n с клавиатуры), tests(для прогона тестов).  
Для выбора использовать тесты или вводить вручную в main добавлен ввод числа, в котором пользователь решает что он хочет(0 - ввод с клавиатуры, 
1(на самом деле все, кроме 0) - прогон тестов).  
Также была добавлена подпрограмма correct_answer_check для вывода правильных ответов и проверки полученного ответа на корректность,
подаются изначальное число и полученный ответ, считается корень встроенной командой, корни сравниваются, ничего не возвращается.  

Скриншот прогона тестов:  
<img width="925" alt="Снимок экрана 2024-11-13 в 19 30 52" src="https://github.com/user-attachments/assets/50529ab9-04c7-40a1-a404-c4b54c5e9f34">
<img width="928" alt="Снимок экрана 2024-11-13 в 19 31 10" src="https://github.com/user-attachments/assets/79370ebf-7866-48e4-b606-63148b07bcce">

Скриншот кода программы на python:  
<img width="899" alt="Снимок экрана 2024-11-13 в 19 35 22" src="https://github.com/user-attachments/assets/f3cc047b-d838-4d0f-ba6b-78bfd0f050f8">  
Код программы:  
```
orig_arr = [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 10.0, 2.25, 15.0, 100.0, 2.1, 15.23232, 0.0001, 15.9999999999]
for i in orig_arr:
    x = 1
    y = 0
    while abs(x - y) >= 0.00000005:
        y = x
        x = (x+i/x)/2
    print(f'Square root of {i} is: {0 if i == 0 else x}')
```
Скриншот результата тестов на python:  
<img width="413" alt="Снимок экрана 2024-11-01 в 13 54 25" src="https://github.com/user-attachments/assets/48577941-bff1-49a8-ab24-20112d82dee0">  
Скриншот результата тестов при использовании sqrt:  
<img width="430" alt="Снимок экрана 2024-11-01 в 13 56 51" src="https://github.com/user-attachments/assets/511f11de-10d5-411e-bdc3-bde2b0caeec3">    

#### Тем самым можно увидеть, что разработанный алгоритм правильно считает квадратный корень

## На 9 баллов
Все подпрограммы(кроме keyboard и tests) были обернуты в макросы, убрано сохранение ra(так как макросы его не изменяют, в отличие от подпрограмм).

## На 10 баллов
Программа теперь разбита на 4 ассемблерных файла main.s(начало программы), keyboard.s(для считывания n с клавиатуры), tests.s(для прогона тестов), macrolib.s 
(для всех макросов). Программа успешно работает как раньше (_при учете включения Assemble all files in directory и Initialize Program Counter to global 'main' if defined_).

<details>
  <summary>Бонус</summary>
   <img src="https://media1.tenor.com/m/nVsnTj_elCMAAAAd/shrek-dance.gif" width="500"/>
</details>
